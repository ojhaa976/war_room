<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CA FOUNDATION STRATEGIC WAR ROOM - JAN 2026</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Tailwind Config for Custom Colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'war-dark': '#0f172a', // Slate 900
                        'war-panel': '#ffffff', // White
                        'war-accent': '#2563eb', // Blue 600
                        'war-alert': '#dc2626', // Red 600
                        'war-success': '#16a34a', // Green 600
                        'war-bg': '#f1f5f9', // Slate 100
                    },
                    fontFamily: {
                        mono: ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', 'monospace'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #f1f5f9; /* Slate 100 */
            color: #1e293b; /* Slate 800 */
        }
        
        /* Chart Container Strict Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar for Logs */
        .tactical-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .tactical-scroll::-webkit-scrollbar-track {
            background: #e2e8f0;
        }
        .tactical-scroll::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
        }

        .nav-btn.active {
            background-color: #0f172a;
            color: white;
            border-left: 4px solid #2563eb;
        }
    </style>
</head>
<body class="font-sans antialiased min-h-screen flex flex-col md:flex-row">

    <!-- Chosen Palette: War Room Neutral (Slate/White) with Tactical Blue/Red Accents -->
    <!-- Application Structure Plan: 
         1. Sidebar Navigation: Persistent, allowing quick switching between modules.
         2. Dashboard (Mission Status): High-level overview, countdown, general motivation.
         3. Intel Center (ABC Analysis): Subject-specific breakdowns using Charts to visualize weightage.
         4. Daily Ops (Scheduler): Interactive tool to generate a daily routine based on user constraints.
         5. Endgame (Simulation): Static timeline for the final 30 days.
         Logic: This structure separates "Strategy" (Intel) from "Tactics" (Daily Ops), mimicking military command. 
    -->
    <!-- Visualization & Content Choices:
         - Countdown: Visual urgency.
         - Doughnut/Bar Charts: To show ABC Analysis (Weightage) clearly.
         - Dynamic Lists: For the daily schedule to allow customization.
         - Text Blocks: Short, imperative commands ("Execute", "Deploy").
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <!-- SIDEBAR NAVIGATION -->
    <nav class="bg-white md:w-64 w-full md:h-screen flex-shrink-0 border-r border-slate-200 shadow-lg z-10 flex flex-col justify-between">
        <div>
            <div class="p-6 border-b border-slate-200 bg-war-dark text-white">
                <h1 class="text-xl font-bold tracking-wider">CA WAR ROOM</h1>
                <p class="text-xs text-slate-400 mt-1">PROTOCOL: JAN 2026</p>
                <div class="mt-2 text-xs font-mono bg-war-alert text-white px-2 py-1 inline-block rounded">NEW SYLLABUS ONLY</div>
            </div>
            
            <div class="flex flex-col mt-4">
                <button onclick="switchTab('dashboard')" id="btn-dashboard" class="nav-btn active text-left px-6 py-4 hover:bg-slate-100 transition-colors font-semibold border-l-4 border-transparent">
                    üìä MISSION STATUS
                </button>
                <button onclick="switchTab('intel')" id="btn-intel" class="nav-btn text-left px-6 py-4 hover:bg-slate-100 transition-colors font-semibold border-l-4 border-transparent">
                    üó∫Ô∏è INTEL (ABC MAPS)
                </button>
                <button onclick="switchTab('daily')" id="btn-daily" class="nav-btn text-left px-6 py-4 hover:bg-slate-100 transition-colors font-semibold border-l-4 border-transparent">
                    ‚ö° DAILY BATTLE PLAN
                </button>
                <button onclick="switchTab('endgame')" id="btn-endgame" class="nav-btn text-left px-6 py-4 hover:bg-slate-100 transition-colors font-semibold border-l-4 border-transparent">
                    üèÅ ENDGAME 30-DAY
                </button>
            </div>
        </div>
        
        <div class="p-4 bg-slate-50 text-xs text-slate-500 text-center border-t border-slate-200">
            OPERATOR STATUS: ACTIVE<br>
            LOCATION: INDIA<br>
            OBJECTIVE: DOMINATION
        </div>
    </nav>

    <!-- MAIN CONTENT AREA -->
    <main class="flex-1 overflow-y-auto h-screen p-4 md:p-8 bg-war-bg relative">
        
        <!-- SECTION: DASHBOARD -->
        <section id="view-dashboard" class="space-y-6 animate-fade-in">
            <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-war-accent">
                <h2 class="text-2xl font-bold text-war-dark mb-2">COMMANDER'S BRIEFING</h2>
                <p class="text-slate-600">
                    Welcome to the Strategic War Room. The objective is clear: Absolute domination of the ICAI CA Foundation Jan 2026 attempt. 
                    We operate strictly under the <span class="font-bold text-war-dark">NEW SYLLABUS</span> parameters.
                    Discard all legacy intel (BCR/BCK). Focus on execution.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Countdown Panel -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-lg font-bold text-war-dark border-b pb-2 mb-4">‚è≥ T-MINUS TO EXAM</h3>
                    <div class="flex justify-center items-center h-48 flex-col">
                        <div id="countdown-timer" class="text-5xl font-mono font-bold text-war-dark">000</div>
                        <div class="text-sm text-slate-500 uppercase tracking-widest mt-2">Days Remaining (Approx)</div>
                        <div class="mt-4 text-center text-xs text-war-alert font-bold">TARGET: JAN 2026</div>
                    </div>
                </div>

                <!-- Syllabus Composition -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-lg font-bold text-war-dark border-b pb-2 mb-4">üéØ THE BATTLEFIELD (4 FRONTS)</h3>
                    <div class="chart-container">
                        <canvas id="syllabusChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-slate-500 mt-2">Standard Weightage Distribution</p>
                </div>
            </div>

            <!-- Core Directives -->
            <div class="bg-war-dark text-white p-6 rounded-lg shadow-md">
                <h3 class="text-lg font-bold text-war-accent mb-4">‚ö†Ô∏è STANDING ORDERS</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                    <div class="bg-slate-800 p-3 rounded border border-slate-700">
                        <strong class="block text-war-accent mb-1">PAPER 1: ACCOUNTING</strong>
                        <span class="text-slate-300">Target 80+. Practical format is king. Working notes are mandatory.</span>
                    </div>
                    <div class="bg-slate-800 p-3 rounded border border-slate-700">
                        <strong class="block text-war-accent mb-1">PAPER 2: BUSINESS LAWS</strong>
                        <span class="text-slate-300">Keywords & Section #s. Writing practice daily. No BCR garbage.</span>
                    </div>
                    <div class="bg-slate-800 p-3 rounded border border-slate-700">
                        <strong class="block text-war-accent mb-1">PAPER 3: QUANT APTITUDE</strong>
                        <span class="text-slate-300">Speed > Precision. Calculator tricks are your weapon. -0.25 awareness.</span>
                    </div>
                    <div class="bg-slate-800 p-3 rounded border border-slate-700">
                        <strong class="block text-war-accent mb-1">PAPER 4: ECONOMICS</strong>
                        <span class="text-slate-300">Conceptual clarity. Graphs & Data logic. No BCK distractions.</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: INTEL (ABC ANALYSIS) -->
        <section id="view-intel" class="hidden space-y-6">
            <div class="bg-white p-6 rounded-lg shadow-sm">
                <h2 class="text-2xl font-bold text-war-dark mb-2">üó∫Ô∏è HIGH-YIELD TOPIC MAPS</h2>
                <p class="text-sm text-slate-600 mb-6">
                    Select a battlefield below. Category A (High Yield) must be mastered first. Category B is core. Category C is for final polish.
                    <br><span class="font-bold text-war-alert">WARNING:</span> ICAI can surprise. Do not skip C, but prioritize A.
                </p>

                <!-- Subject Toggles -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button onclick="loadSubjectData('accounts')" class="subject-btn px-4 py-2 bg-slate-200 hover:bg-slate-300 rounded text-sm font-bold text-slate-700 focus:ring-2 ring-war-accent transition-all active-subject" data-subject="accounts">Paper 1: Accounting</button>
                    <button onclick="loadSubjectData('law')" class="subject-btn px-4 py-2 bg-slate-200 hover:bg-slate-300 rounded text-sm font-bold text-slate-700 focus:ring-2 ring-war-accent transition-all" data-subject="law">Paper 2: Law</button>
                    <button onclick="loadSubjectData('math')" class="subject-btn px-4 py-2 bg-slate-200 hover:bg-slate-300 rounded text-sm font-bold text-slate-700 focus:ring-2 ring-war-accent transition-all" data-subject="math">Paper 3: Quant</button>
                    <button onclick="loadSubjectData('eco')" class="subject-btn px-4 py-2 bg-slate-200 hover:bg-slate-300 rounded text-sm font-bold text-slate-700 focus:ring-2 ring-war-accent transition-all" data-subject="eco">Paper 4: Economics</button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- ABC Chart -->
                    <div class="bg-slate-50 p-4 rounded border border-slate-200">
                        <h4 class="font-bold text-center mb-4 text-war-dark">WEIGHTAGE DISTRIBUTION</h4>
                        <div class="chart-container">
                            <canvas id="abcChart"></canvas>
                        </div>
                    </div>

                    <!-- Tactical List -->
                    <div class="bg-white p-4 rounded border border-slate-200">
                        <h4 class="font-bold mb-4 text-war-dark border-b pb-2 flex justify-between">
                            <span id="subject-title">ACCOUNTING STRATEGY</span>
                            <span class="text-xs bg-war-dark text-white px-2 py-1 rounded">EXECUTE</span>
                        </h4>
                        <div id="subject-content" class="space-y-4 tactical-scroll h-[300px] overflow-y-auto pr-2">
                            <!-- Content injected via JS -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: DAILY OPS -->
        <section id="view-daily" class="hidden space-y-6">
            <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-war-success">
                <h2 class="text-2xl font-bold text-war-dark mb-2">‚ö° DAILY BATTLE PLAN GENERATOR</h2>
                <p class="text-sm text-slate-600">
                    Input your operational window. The system will deploy a 90-minute block strategy optimized for retention.
                    <br><strong>Protocol:</strong> 90 min Deep Work -> 15 min Tactical Rest.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Controls -->
                <div class="bg-white p-6 rounded-lg shadow-sm col-span-1">
                    <h3 class="font-bold text-war-dark mb-4">PARAMETERS</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Start Time</label>
                            <input type="time" id="start-time" value="06:00" class="w-full p-2 border border-slate-300 rounded focus:border-war-accent outline-none">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Available Hours</label>
                            <select id="study-hours" class="w-full p-2 border border-slate-300 rounded focus:border-war-accent outline-none">
                                <option value="4">4 Hours (Survival)</option>
                                <option value="6">6 Hours (Standard)</option>
                                <option value="8">8 Hours (Aggressive)</option>
                                <option value="10" selected>10 Hours (War Mode)</option>
                                <option value="12">12 Hours (Total War)</option>
                            </select>
                        </div>
                        <button onclick="generateSchedule()" class="w-full bg-war-dark text-white py-3 rounded font-bold hover:bg-slate-800 transition-colors shadow-lg">
                            GENERATE PROTOCOL
                        </button>
                    </div>

                    <div class="mt-8 pt-6 border-t border-slate-200">
                        <h4 class="font-bold text-war-alert mb-2 text-sm">DAILY FIREPOWER TARGETS</h4>
                        <ul class="text-sm space-y-2">
                            <li class="flex justify-between"><span>Acc Practical:</span> <span class="font-mono font-bold">15 Qs</span></li>
                            <li class="flex justify-between"><span>Law Writing:</span> <span class="font-mono font-bold">2 Answers</span></li>
                            <li class="flex justify-between"><span>Math Speed Drills:</span> <span class="font-mono font-bold">30 Qs</span></li>
                            <li class="flex justify-between"><span>Eco Concept Map:</span> <span class="font-mono font-bold">1 Chapter</span></li>
                        </ul>
                    </div>
                </div>

                <!-- The Schedule -->
                <div class="bg-white p-6 rounded-lg shadow-sm col-span-1 lg:col-span-2">
                    <h3 class="font-bold text-war-dark mb-4 flex justify-between items-center">
                        OPERATIONAL TIMELINE
                        <span class="text-xs text-slate-400 font-normal" id="date-display"></span>
                    </h3>
                    <div id="schedule-output" class="space-y-3">
                        <div class="p-4 bg-slate-50 border border-slate-200 rounded text-center text-slate-500 italic">
                            Awaiting Parameters. Click 'Generate Protocol'.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: ENDGAME -->
        <section id="view-endgame" class="hidden space-y-6">
             <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-war-alert">
                <h2 class="text-2xl font-bold text-war-dark mb-2">üèÅ FINAL 30-DAY SIMULATION</h2>
                <p class="text-sm text-slate-600">
                    This is the blueprint for December 2025/January 2026. Do not deviate.
                    The goal is not learning new things; it is hardening existing assets.
                </p>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-sm overflow-x-auto">
                <div class="min-w-[700px]">
                    <h3 class="font-bold text-war-dark mb-6 text-center">THE REVISION TRIDENT STRATEGY</h3>
                    
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <!-- Phase 1 -->
                        <div class="border border-slate-300 rounded bg-slate-50">
                            <div class="bg-blue-100 p-3 font-bold text-blue-800 border-b border-blue-200">PHASE 1: DAYS 1-12</div>
                            <div class="p-4 space-y-3 text-sm text-left">
                                <p class="font-bold text-war-dark">Consolidation</p>
                                <ul class="list-disc pl-4 space-y-1 text-slate-600">
                                    <li>Review all "Category A" topics.</li>
                                    <li>Solve ICAI RTPs (Revision Test Papers).</li>
                                    <li>Acc: Solve 1 comprehensive problem per chapter.</li>
                                    <li>Law: Memorize Case Law names.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Phase 2 -->
                        <div class="border border-slate-300 rounded bg-slate-50">
                            <div class="bg-yellow-100 p-3 font-bold text-yellow-800 border-b border-yellow-200">PHASE 2: DAYS 13-22</div>
                            <div class="p-4 space-y-3 text-sm text-left">
                                <p class="font-bold text-war-dark">Simulation (MTPs)</p>
                                <ul class="list-disc pl-4 space-y-1 text-slate-600">
                                    <li>Solve Mock Test Papers (MTP) strictly: 2pm to 5pm.</li>
                                    <li><strong>Acc/Law:</strong> Writing speed check.</li>
                                    <li><strong>Math/Eco:</strong> OMR Sheet shading practice.</li>
                                    <li>Identify weak zones and patch them immediately.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Phase 3 -->
                        <div class="border border-slate-300 rounded bg-slate-50">
                            <div class="bg-red-100 p-3 font-bold text-red-800 border-b border-red-200">PHASE 3: DAYS 23-30</div>
                            <div class="p-4 space-y-3 text-sm text-left">
                                <p class="font-bold text-war-dark">Final Polish</p>
                                <ul class="list-disc pl-4 space-y-1 text-slate-600">
                                    <li>Read Summary Notes only.</li>
                                    <li>Math: Review Calculator tricks & Formulae.</li>
                                    <li>Law: Review Section numbers.</li>
                                    <li><strong>NO NEW TOPICS.</strong></li>
                                    <li>Sleep cycle adjustment (Wake up 6am).</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-war-dark text-white p-6 rounded-lg">
                    <h3 class="font-bold mb-2 text-war-accent">ERROR LOG PROTOCOL</h3>
                    <p class="text-sm text-slate-300 mb-4">Every mistake in MTPs must be logged. Use this format:</p>
                    <div class="bg-slate-800 p-3 rounded font-mono text-xs mb-4">
                        [SUBJECT] [TOPIC] [TYPE OF ERROR]<br>
                        > Conceptual Error? (Re-read text)<br>
                        > Calculation Error? (Slow down)<br>
                        > Silly Mistake? (Focus check)
                    </div>
                    <button class="w-full bg-slate-700 hover:bg-slate-600 py-2 rounded text-sm font-bold border border-slate-500">DOWNLOAD ERROR LOG TEMPLATE (Simulated)</button>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                     <h3 class="font-bold mb-2 text-war-dark">EXAM DAY RULES</h3>
                     <ul class="list-none space-y-2 text-sm text-slate-600">
                        <li class="flex items-start"><span class="mr-2 text-war-success">‚úî</span> <strong>15 Min Reading Time (Paper 1 & 2):</strong> Plan the order. Identify the 'Googly' question to avoid.</li>
                        <li class="flex items-start"><span class="mr-2 text-war-success">‚úî</span> <strong>Black Ball Pens:</strong> Carry 3. Test them beforehand.</li>
                        <li class="flex items-start"><span class="mr-2 text-war-success">‚úî</span> <strong>Calculator:</strong> Carry 2 (Main + Backup). Same model.</li>
                        <li class="flex items-start"><span class="mr-2 text-war-success">‚úî</span> <strong>Math/Eco:</strong> If a question takes >2 mins, SKIP IT. Circle back later.</li>
                     </ul>
                </div>
            </div>
        </section>

    </main>

    <script>
        // --- DATA INTELLIGENCE ---
        const syllabusData = {
            accounts: {
                title: "PAPER 1: ACCOUNTING (100 Marks)",
                labels: ["A: Partnership/Company", "B: Final A/c / NPO", "C: Theory/Inventory", "D: Others"],
                data: [35, 25, 20, 20],
                content: `
                    <div class="p-3 bg-red-50 border-l-4 border-red-500 rounded shadow-sm">
                        <h5 class="font-bold text-red-800 text-sm">CAT A (High Yield) - 35%</h5>
                        <p class="text-xs mt-1 text-slate-700">Company Accounts (Shares/Debentures), Partnership Accounts (Admission/Retirement/Death). <br><strong>Tactics:</strong> Master Journal entries. Format must be perfect.</p>
                    </div>
                    <div class="p-3 bg-blue-50 border-l-4 border-blue-500 rounded shadow-sm">
                        <h5 class="font-bold text-blue-800 text-sm">CAT B (Core) - 25%</h5>
                        <p class="text-xs mt-1 text-slate-700">Final Accounts of Sole Proprietors, NPO. <br><strong>Tactics:</strong> Practice comprehensive sums with adjustments. Speed is the enemy here.</p>
                    </div>
                    <div class="p-3 bg-green-50 border-l-4 border-green-500 rounded shadow-sm">
                        <h5 class="font-bold text-green-800 text-sm">CAT C (Foundational) - 20%</h5>
                        <p class="text-xs mt-1 text-slate-700">Rectification of Errors, BRS, Inventories, Depreciation. <br><strong>Tactics:</strong> Don't ignore. Easy marks if concepts are clear.</p>
                    </div>
                    <div class="p-3 bg-slate-100 rounded shadow-sm">
                        <h5 class="font-bold text-slate-800 text-sm">Theory - 20%</h5>
                        <p class="text-xs mt-1 text-slate-700">True/False questions (12 Marks). Direct Theory questions. <br><strong>Tactics:</strong> Read Module theory thoroughly.</p>
                    </div>
                `
            },
            law: {
                title: "PAPER 2: BUSINESS LAWS (100 Marks)",
                labels: ["A: Contract/Company", "B: Partnership/LLP", "C: SOGA", "D: Negotiable Inst/Regulatory"],
                data: [45, 20, 20, 15],
                content: `
                    <div class="p-3 bg-red-50 border-l-4 border-red-500 rounded shadow-sm">
                        <h5 class="font-bold text-red-800 text-sm">CAT A (The Titans) - 45%</h5>
                        <p class="text-xs mt-1 text-slate-700">Indian Contract Act, 1872 & Companies Act, 2013. <br><strong>Tactics:</strong> Case studies heavily tested here. Quote Section numbers for Company Law.</p>
                    </div>
                    <div class="p-3 bg-blue-50 border-l-4 border-blue-500 rounded shadow-sm">
                        <h5 class="font-bold text-blue-800 text-sm">CAT B (Structural) - 20%</h5>
                        <p class="text-xs mt-1 text-slate-700">Partnership Act & LLP. <br><strong>Tactics:</strong> Understand the difference between LLP and Company. Direct questions common.</p>
                    </div>
                    <div class="p-3 bg-green-50 border-l-4 border-green-500 rounded shadow-sm">
                        <h5 class="font-bold text-green-800 text-sm">CAT C (Sales) - 20%</h5>
                        <p class="text-xs mt-1 text-slate-700">Sale of Goods Act (SOGA). <br><strong>Tactics:</strong> 'Caveat Emptor' and its exceptions. Unpaid Seller rights.</p>
                    </div>
                     <div class="p-3 bg-slate-100 rounded shadow-sm">
                        <h5 class="font-bold text-slate-800 text-sm">New Additions - 15%</h5>
                        <p class="text-xs mt-1 text-slate-700">Negotiable Instruments & Regulatory Framework. <br><strong>Tactics:</strong> New syllabus additions. High probability of direct questions.</p>
                    </div>
                `
            },
            math: {
                title: "PAPER 3: QUANT APTITUDE (100 Marks)",
                labels: ["A: TVM / LR / Ctrl Tendency", "B: Prob / Theoretical Dist", "C: Calculus / Index No", "D: Sets / Relation"],
                data: [50, 20, 15, 15],
                content: `
                    <div class="p-3 bg-red-50 border-l-4 border-red-500 rounded shadow-sm">
                        <h5 class="font-bold text-red-800 text-sm">CAT A (Scoring Machine) - 50%</h5>
                        <p class="text-xs mt-1 text-slate-700">Time Value of Money (12-15 marks), Logical Reasoning (20 marks), Measures of Central Tendency. <br><strong>Tactics:</strong> TVM is purely calculator based. LR is free marks - DO NOT SKIP.</p>
                    </div>
                    <div class="p-3 bg-blue-50 border-l-4 border-blue-500 rounded shadow-sm">
                        <h5 class="font-bold text-blue-800 text-sm">CAT B (Analytical) - 20%</h5>
                        <p class="text-xs mt-1 text-slate-700">Probability & Theoretical Distributions. <br><strong>Tactics:</strong> Can be tricky. Focus on standard formulas. Skip if question is too long in exam.</p>
                    </div>
                     <div class="p-3 bg-green-50 border-l-4 border-green-500 rounded shadow-sm">
                        <h5 class="font-bold text-green-800 text-sm">CAT C (Tech) - 15%</h5>
                        <p class="text-xs mt-1 text-slate-700">Calculus (Diff/Integration) & Index Numbers. <br><strong>Tactics:</strong> Non-math students can skip Calculus if aiming for 60. Index numbers is easy.</p>
                    </div>
                `
            },
            eco: {
                title: "PAPER 4: BUSINESS ECONOMICS (100 Marks)",
                labels: ["A: Demand/Supply/Production", "B: Markets/Cycles", "C: National Income", "D: Public Fin/Money"],
                data: [35, 25, 20, 20],
                content: `
                    <div class="p-3 bg-red-50 border-l-4 border-red-500 rounded shadow-sm">
                        <h5 class="font-bold text-red-800 text-sm">CAT A (Micro Core) - 35%</h5>
                        <p class="text-xs mt-1 text-slate-700">Demand, Supply, Production, Cost. <br><strong>Tactics:</strong> Master the graphs. Elasticity numericals are guaranteed.</p>
                    </div>
                    <div class="p-3 bg-blue-50 border-l-4 border-blue-500 rounded shadow-sm">
                        <h5 class="font-bold text-blue-800 text-sm">CAT B (Markets) - 25%</h5>
                        <p class="text-xs mt-1 text-slate-700">Market Structures & Business Cycles. <br><strong>Tactics:</strong> Features of Oligopoly, Monopolistic comp. Phases of cycles.</p>
                    </div>
                    <div class="p-3 bg-green-50 border-l-4 border-green-500 rounded shadow-sm">
                        <h5 class="font-bold text-green-800 text-sm">CAT C (Macro - New) - 20%</h5>
                        <p class="text-xs mt-1 text-slate-700">National Income Determination. <br><strong>Tactics:</strong> New Syllabus Heavyweight. Learn the aggregation formulas (GDP, GNP, NNP).</p>
                    </div>
                     <div class="p-3 bg-slate-100 rounded shadow-sm">
                        <h5 class="font-bold text-slate-800 text-sm">Public Finance - 20%</h5>
                        <p class="text-xs mt-1 text-slate-700">Public Finance, Money Market, Int Trade. <br><strong>Tactics:</strong> Conceptual. Focus on functions of RBI, Fiscal policy tools.</p>
                    </div>
                `
            }
        };

        // --- CHART INSTANCES ---
        let syllabusChartInstance = null;
        let abcChartInstance = null;

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            initDashboard();
            loadSubjectData('accounts'); // Default load
            document.getElementById('date-display').innerText = new Date().toLocaleDateString();
        });

        // --- NAVIGATION ---
        function switchTab(tabId) {
            // Hide all sections
            ['dashboard', 'intel', 'daily', 'endgame'].forEach(id => {
                document.getElementById(`view-${id}`).classList.add('hidden');
                document.getElementById(`btn-${id}`).classList.remove('active', 'bg-slate-100', 'border-l-4', 'border-war-accent');
                document.getElementById(`btn-${id}`).classList.add('border-transparent');
            });

            // Show selected
            document.getElementById(`view-${tabId}`).classList.remove('hidden');
            const btn = document.getElementById(`btn-${tabId}`);
            btn.classList.add('active');
            btn.classList.remove('border-transparent');
        }

        // --- DASHBOARD LOGIC ---
        function initDashboard() {
            // 1. Countdown Logic (Target: Jan 15, 2026 - Approximate date)
            const targetDate = new Date("2026-01-15T09:00:00").getTime();
            
            const updateTimer = () => {
                const now = new Date().getTime();
                const distance = targetDate - now;
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                document.getElementById("countdown-timer").innerText = days > 0 ? days : "000";
            };
            updateTimer();
            setInterval(updateTimer, 86400000); // Update daily

            // 2. Syllabus Chart
            const ctx = document.getElementById('syllabusChart').getContext('2d');
            if(syllabusChartInstance) syllabusChartInstance.destroy();
            
            syllabusChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Accounting (Practical)', 'Business Laws (Theory)', 'Quant (Math/Stats)', 'Economics (Conceptual)'],
                    datasets: [{
                        data: [25, 25, 25, 25], // Equal weightage
                        backgroundColor: ['#1e293b', '#334155', '#475569', '#64748b'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { usePointStyle: true, boxWidth: 8 } }
                    }
                }
            });
        }

        // --- INTEL LOGIC ---
        function loadSubjectData(subjectKey) {
            const data = syllabusData[subjectKey];
            
            // Highlight Button
            document.querySelectorAll('.subject-btn').forEach(b => {
                b.classList.remove('ring-2', 'ring-war-accent', 'bg-white', 'shadow');
                b.classList.add('bg-slate-200');
            });
            const activeBtn = document.querySelector(`button[data-subject="${subjectKey}"]`);
            activeBtn.classList.remove('bg-slate-200');
            activeBtn.classList.add('bg-white', 'shadow', 'ring-2', 'ring-war-accent');

            // Update Text
            document.getElementById('subject-title').innerText = data.title;
            document.getElementById('subject-content').innerHTML = data.content;

            // Update Chart
            const ctx = document.getElementById('abcChart').getContext('2d');
            if(abcChartInstance) abcChartInstance.destroy();

            abcChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.labels,
                    datasets: [{
                        label: 'Estimated Marks Weightage',
                        data: data.data,
                        backgroundColor: [
                            '#dc2626', // Red for A
                            '#2563eb', // Blue for B
                            '#16a34a', // Green for C
                            '#94a3b8'  // Gray for D
                        ],
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, max: 60 }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // --- DAILY OPS LOGIC ---
        function generateSchedule() {
            const startTimeInput = document.getElementById('start-time').value;
            const totalHours = parseInt(document.getElementById('study-hours').value);
            const container = document.getElementById('schedule-output');
            
            if(!startTimeInput) {
                alert("Enter Start Time, Solider.");
                return;
            }

            let currentTime = new Date(`2000-01-01T${startTimeInput}`);
            let html = '';
            
            // Block Definitions
            const blocks = [];
            
            // Strategy: 90 min study, 15 min break.
            // Loop to fill hours
            let hoursFilled = 0;
            let blockCount = 1;

            while (hoursFilled < totalHours) {
                // Time String
                const startStr = currentTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                // Add 90 mins
                currentTime.setMinutes(currentTime.getMinutes() + 90);
                const endStr = currentTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                // Determine Topic Rotation
                let subject = "";
                let task = "";
                let colorClass = "";
                
                const rotation = blockCount % 4;
                if (rotation === 1) { 
                    subject = "ACCOUNTING"; 
                    task = "Practical Problems. Do not read solutions. Write them."; 
                    colorClass = "border-l-4 border-slate-800 bg-slate-50"; 
                }
                else if (rotation === 2) { 
                    subject = "BUSINESS LAWS"; 
                    task = "Learn & Write. Keywords focus. Case Law analysis."; 
                    colorClass = "border-l-4 border-slate-600 bg-white"; 
                }
                else if (rotation === 3) { 
                    subject = "QUANT (MATH/LR)"; 
                    task = "Speed Drills. Calculator focus. 1.5 min per Q."; 
                    colorClass = "border-l-4 border-slate-500 bg-slate-50"; 
                }
                else { 
                    subject = "ECONOMICS"; 
                    task = "Conceptual Reading & Graph analysis."; 
                    colorClass = "border-l-4 border-slate-400 bg-white"; 
                }

                html += `
                    <div class="flex items-start p-3 rounded shadow-sm ${colorClass}">
                        <div class="w-24 font-mono font-bold text-sm text-slate-500 pt-1">${startStr}</div>
                        <div class="flex-1">
                            <div class="font-bold text-war-dark text-sm">BLOCK ${blockCount}: ${subject}</div>
                            <div class="text-xs text-slate-600">${task}</div>
                        </div>
                    </div>
                `;

                // Add Break (15 min) unless it's the last block
                hoursFilled += 1.5;
                if(hoursFilled < totalHours) {
                    const breakStart = endStr;
                    currentTime.setMinutes(currentTime.getMinutes() + 15);
                    const breakEnd = currentTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                    
                    html += `
                        <div class="flex items-center p-2 rounded bg-green-50 border border-green-100 my-1">
                            <div class="w-24 font-mono text-xs text-green-700">${breakStart}</div>
                            <div class="text-xs font-bold text-green-700 uppercase tracking-wide">TACTICAL REST / HYDRATION</div>
                        </div>
                    `;
                }
                blockCount++;
            }

            // Summary Footer
            html += `
                <div class="mt-4 p-3 bg-war-dark text-white rounded text-center text-sm font-bold">
                    MISSION ENDS AT: ${currentTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                </div>
            `;

            container.innerHTML = html;
        }

    </script>
</body>
</html>
